@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Manrope:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Color Palette - Pure Grayscale */
    --color-primary: 64 64 64; /* gray-700 */
    --color-primary-dark: 38 38 38; /* gray-800 */
    --color-accent: 115 115 115; /* gray-600 */
    --color-accent-dark: 64 64 64; /* gray-700 */
    
    /* Accent Color - Blue for CTAs */
    --color-blue: 59 130 246; /* blue-500 */
    --color-blue-hover: 37 99 235; /* blue-600 */
    --color-blue-light: 96 165 250; /* blue-400 */
    
    /* Neutral Colors */
    --color-bg-light: 255 255 255;
    --color-bg-dark: 0 0 0; /* pure black */
    --color-surface-light: 250 250 250; /* gray-50 */
    --color-surface-dark: 23 23 23; /* gray-900 */
    
    --color-navy: 15 23 42; /* slate-900 - Navy Blue */
    --color-navy-light: 30 41 59; /* slate-800 */
    --color-navy-dark: 2 6 23; /* Very dark navy */
    
    /* Text Colors */
    --color-text-primary-light: 23 23 23; /* gray-900 */
    --color-text-primary-dark: 250 250 250; /* gray-50 */
    --color-text-secondary-light: 115 115 115; /* gray-600 */
    --color-text-secondary-dark: 163 163 163; /* gray-400 */
  }

  .dark {
    --color-primary: 250 250 250; /* gray-50 */
  }

  html {
    scroll-behavior: smooth;
    scroll-padding-top: 80px;
  }

  * {
    @apply border-gray-200 dark:border-gray-800;
  }
  
  body {
    @apply bg-white text-gray-900 dark:bg-black dark:text-gray-50 antialiased;
    font-family: var(--font-inter), system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    letter-spacing: -0.011em;
    /* iOS Safe Area Support */
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    /* Subtle Texture */
    background-image: 
      radial-gradient(circle at 1px 1px, rgba(0, 0, 0, 0.015) 1px, transparent 0);
    background-size: 40px 40px;
  }
  
  .dark body {
    background-image: 
      radial-gradient(circle at 1px 1px, rgba(255, 255, 255, 0.015) 1px, transparent 0);
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-manrope), sans-serif;
    @apply font-bold tracking-tight;
    line-height: 1.2;
  }
}

@layer components {
  /* Premium Gradient Text */
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, rgb(var(--color-primary)), rgb(var(--color-accent)));
  }
  
  .gradient-text-hover {
    @apply bg-clip-text text-transparent transition-all duration-300;
    background-image: linear-gradient(135deg, rgb(var(--color-accent)), rgb(var(--color-primary)));
  }

  /* Optimized Container - Better Width */
  .container-wide {
    @apply w-full max-w-7xl mx-auto px-6 md:px-8 lg:px-12;
  }
  
  /* Section Spacing - Increased for better scroll positioning */
  .section {
    @apply py-12 sm:py-16 md:py-20 lg:py-24;
  }

  /* Glass Cards - Refined */
  .glass-card {
    @apply bg-zinc-900/50 backdrop-blur-md border border-zinc-800/50 rounded-2xl p-6 transition-all duration-300;
  }
  
  .glass-card:hover {
    @apply border-gray-300 dark:border-gray-700 shadow-xl shadow-gray-900/5 dark:shadow-white/5;
    transform: translateY(-4px);
  }

  /* Modern Premium Buttons */
  .btn-premium {
    @apply relative inline-flex items-center justify-center px-8 py-3.5 overflow-hidden font-semibold tracking-tight rounded-xl transition-all duration-300;
    background: linear-gradient(135deg, rgb(var(--color-primary)), rgb(var(--color-primary-dark)));
    color: white;
    box-shadow: 0 4px 14px 0 rgb(var(--color-primary) / 0.3);
  }
  
  .btn-premium:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px 0 rgb(var(--color-primary) / 0.4);
  }
  
  .btn-premium:active {
    transform: translateY(0);
  }
  
  .btn-premium::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-300;
    background: linear-gradient(135deg, rgb(var(--color-accent)), rgb(var(--color-primary)));
  }
  
  .btn-premium:hover::before {
    opacity: 1;
  }
  
  .btn-premium > * {
    @apply relative z-10;
  }
  
  .btn-premium-outline {
    @apply relative inline-flex items-center justify-center px-8 py-3.5 overflow-hidden font-semibold tracking-tight rounded-xl transition-all duration-300;
    border: 2px solid rgb(var(--color-primary) / 0.3);
    color: rgb(var(--color-primary));
  }
  
  .dark .btn-premium-outline {
    color: rgb(var(--color-accent));
    border-color: rgb(var(--color-accent) / 0.3);
  }
  
  .btn-premium-outline:hover {
    border-color: rgb(var(--color-primary));
    background: rgb(var(--color-primary) / 0.05);
    transform: translateY(-2px);
  }
  
  .dark .btn-premium-outline:hover {
    border-color: rgb(var(--color-accent));
    background: rgb(var(--color-accent) / 0.05);
  }

  /* Grid Background */
  .bg-grid {
    background-size: 40px 40px;
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
                      linear-gradient(to bottom, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
  }
  
  .dark .bg-grid {
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                      linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  }
  
  /* Accent Link */
  .accent-link {
    @apply relative inline-flex items-center font-semibold transition-colors duration-300;
    color: rgb(var(--color-primary));
  }
  
  .dark .accent-link {
    color: rgb(var(--color-accent));
  }
  
  .accent-link::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-0.5 transition-all duration-300;
    background: linear-gradient(90deg, rgb(var(--color-primary)), rgb(var(--color-accent)));
  }
  
  .accent-link:hover::after {
    @apply w-full;
  }

  /* Custom Prose Styling for Blog Content */
  .prose {
    @apply text-gray-900 dark:text-gray-100;
  }

  .prose p {
    @apply mb-6 leading-relaxed;
  }

  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4,
  .prose h5,
  .prose h6 {
    @apply font-bold text-gray-900 dark:text-white mt-8 mb-4;
  }

  .prose h1 {
    @apply text-4xl;
  }

  .prose h2 {
    @apply text-3xl;
  }

  .prose h3 {
    @apply text-2xl;
  }

  .prose h4 {
    @apply text-xl;
  }

  .prose ul,
  .prose ol {
    @apply mb-6 pl-6 space-y-2;
  }

  .prose ul {
    @apply list-disc;
  }

  .prose ol {
    @apply list-decimal;
  }

  .prose li {
    @apply leading-relaxed;
  }

  .prose blockquote {
    @apply border-l-4 border-gray-300 dark:border-gray-700 pl-4 italic my-6 text-gray-700 dark:text-gray-300;
  }

  .prose code {
    @apply bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-sm font-mono;
  }

  .prose pre {
    @apply bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto my-6;
  }

  .prose pre code {
    @apply bg-transparent p-0;
  }

  .prose a {
    @apply text-blue-600 dark:text-blue-400 hover:underline;
  }

  .prose img {
    @apply rounded-lg my-6;
  }

  .prose hr {
    @apply my-8 border-gray-300 dark:border-gray-700;
  }

  .prose table {
    @apply w-full my-6 border-collapse;
  }

  .prose th,
  .prose td {
    @apply border border-gray-300 dark:border-gray-700 px-4 py-2;
  }

  .prose th {
    @apply bg-gray-100 dark:bg-gray-800 font-bold;
  }

  .prose strong {
    @apply font-bold text-gray-900 dark:text-white;
  }

  .prose em {
    @apply italic;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Per-Letter Wave Animation */
@keyframes letter-wave {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-8px) scale(1.05);
  }
}

.animate-letter-wave span {
  display: inline-block;
  animation: letter-wave 3s ease-in-out infinite;
}

/* Stagger delay for each letter */
.animate-letter-wave span:nth-child(1) { animation-delay: 0s; }
.animate-letter-wave span:nth-child(2) { animation-delay: 0.1s; }
.animate-letter-wave span:nth-child(3) { animation-delay: 0.2s; }
.animate-letter-wave span:nth-child(4) { animation-delay: 0.3s; }
.animate-letter-wave span:nth-child(5) { animation-delay: 0.4s; }
.animate-letter-wave span:nth-child(6) { animation-delay: 0.5s; }
.animate-letter-wave span:nth-child(7) { animation-delay: 0.6s; }
.animate-letter-wave span:nth-child(8) { animation-delay: 0.7s; }
.animate-letter-wave span:nth-child(9) { animation-delay: 0.8s; }
.animate-letter-wave span:nth-child(10) { animation-delay: 0.9s; }
.animate-letter-wave span:nth-child(11) { animation-delay: 1s; }
.animate-letter-wave span:nth-child(12) { animation-delay: 1.1s; }
.animate-letter-wave span:nth-child(13) { animation-delay: 1.2s; }
.animate-letter-wave span:nth-child(14) { animation-delay: 1.3s; }
.animate-letter-wave span:nth-child(15) { animation-delay: 1.4s; }
.animate-letter-wave span:nth-child(16) { animation-delay: 1.5s; }
.animate-letter-wave span:nth-child(17) { animation-delay: 1.6s; }
.animate-letter-wave span:nth-child(18) { animation-delay: 1.7s; }
.animate-letter-wave span:nth-child(19) { animation-delay: 1.8s; }
.animate-letter-wave span:nth-child(20) { animation-delay: 1.9s; }

/* ============================================
   ACCESSIBILITY IMPROVEMENTS
   ============================================ */

/* Focus Visible Styles - Keyboard Navigation */
*:focus {
  outline: none;
}

*:focus-visible {
  outline: 2px solid rgb(var(--color-primary));
  outline-offset: 3px;
  border-radius: 4px;
}

.dark *:focus-visible {
  outline-color: rgb(var(--color-accent));
}

/* Enhanced focus for interactive elements */
button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* Focus for dark backgrounds */
.dark button:focus-visible,
.dark a:focus-visible {
  outline-color: white;
}

/* Skip to content link */
.skip-to-content {
  position: absolute;
  top: -100px;
  left: 0;
  background: rgb(var(--color-primary));
  color: white;
  padding: 0.75rem 1.5rem;
  text-decoration: none;
  border-radius: 0 0 0.5rem 0;
  z-index: 100;
  transition: top 0.2s;
}

.skip-to-content:focus {
  top: 0;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* Disable specific animations */
  .animate-ping,
  .animate-pulse,
  .animate-spin,
  .animate-bounce {
    animation: none !important;
  }
}

/* Screen Reader Only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only:focus,
.sr-only:active {
  position: static;
  width: auto;
  height: auto;
  overflow: visible;
  clip: auto;
  white-space: normal;
}
